<div ng-controller="MainCtrl">
	<div class="info">
		<h1 ng-if="storage.countActiveTodos === 0"> You have nothing to do </h1>
		<h1 ng-if="storage.countActiveTodos !== 0"> You have {{storage.countActiveTodos}} {{storage.countActiveTodos === 1 ? 'thing' : 'things'}} to do </h1>
		<button ng-click="removeAllDone(0)" ng-disabled="!(storage.todos.length - storage.countActiveTodos > 0)">REMOVE ALL DONE</button>
	</div>
	<div class="main">
		<input type="text" ng-model="title" ng-init="title=''" ng-value="title">
		<label class="tooltip-label">Title</label>
		<input type="text" ng-model="content" ng-init="content=''" ng-value="content">
		<label class="tooltip-label">Content</label>
		<button	ng-click="editState ? edit() : add()">{{ editState ? 'EDIT' : 'ADD' }}</button>
		<button	ng-click="clear()">CANCEL</button>
	</div>
	<div class="list">
		<ol ng-repeat="todo in storage.todos | orderBy: 'index'">
			<h3>{{$index+1}}</h3>
			<label class="tooltip-label-title">Title</label>
			<label ng-class="{'marked': todo.marked}">{{todo.title}}</label>
			<label class="tooltip-label-content">Content</label>
			<label ng-class="{'marked': todo.marked}">{{todo.content}}</label>
			<div class="float-right">
				<button ng-click="toggleMarked($index)">{{todo.marked ? 'UNMARK' : 'MARK AS DONE'}}</button>
				<button ng-click="handleEdit($index)" ng-disabled="todo.marked">EDIT</button>
				<button ng-click="remove($index)">REMOVE</button>
			</div>
		</ol>
	</div>
</div>
